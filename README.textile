h2. adva-cms2 development

h3. Running the tests

Integration tests require setting up a "host app" which is then used as a context for the various adva gems to run the cucumber features in.

So when you want to run the tests for the first time you have to "regenerate" this application:

$ REGENERATE_APP=1 rake

As long as you don't add any migrations you can now use this application for subsequent test runs and just use:

$ rake

h3. Development mode and class reloading

Views seem to be reloaded depending on their timestamp. To turn on controller/model class reloading for adva-cms Gems:

  # config/application.rb

  module TheApp
    class Application < Rails::Application
      # Enables or disables engine reloading.
      config.reload_engines = true
    end
  end

=> umm, might or might not (yet) work as expected. plz check.

h3. Generate a new adva engine

$ thor adva:generate:engine contacts

h2. Using adva-cms2

h3. Get adva-cms

*Get it*

From github:

@$ git clone git://github.com/svenfuchs/adva-cms2@
@$ cd adva-cms2@
@$ bundle install@

*Generate a new app and run it:*

@$ thor adva:app /home/user/path/to/app@
@$ cd /home/user/path/to/app@
@$ sed -i`date +%s` -e 's/:source => :local/:git => \"git:\/\/github\.com\/svenfuchs\/adva-cms\.git\/\"/' Gemfile@
@$ bundle install@
@$ rails s@

Now in your browser navigate to http://localhost:3000. Fill out the fields in the resulting page and click 'Create Site'. After this you can log in to your new site with the credentials 'admin@admin.org' and password 'admin'.
